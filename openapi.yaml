openapi: 3.0.3
info:
  title: OnlyFans API Dashboard
  version: 1.0.0
  description: |
    ## üöÄ Product Introduction

    The OnlyFans API Dashboard is a multi-tenant API platform designed to provide secure and scalable access to OnlyFans data services.

    Our platform enables developers, agencies, and automation systems to integrate OnlyFans data into their own applications through a credit-based API model.

    ### üí∞ Welcome Bonus

    When a user creates an account in our dashboard, they automatically receive **$10 in bonus credits** in their wallet.  
    These credits can immediately be used to test and explore our APIs.

    ### ‚ö° How It Works

    1. Create an account in the dashboard.
    2. Receive $10 bonus credits in your wallet.
    3. Generate your API key.
    4. Start calling our APIs.
    5. Credits are deducted automatically based on API usage.

    ### üìä Credit-Based Usage Model

    - Each API request consumes a defined number of credits.
    - Credits are securely tracked using a real-time ledger system.
    - Users can monitor:
      - Wallet balance
      - API usage history
      - Transaction logs

    This transparent credit system ensures predictable billing and complete usage visibility.

    ---
    For additional credits or enterprise access, please contact our sales team.

tags:
  - name: Organization
    description: |
      ## üè¢ Organization Setup (Required First Step)

      Before using any APIs, you must create at least **one Organization**.

      All API keys, credit usage, and logs are scoped to an Organization.
      You cannot generate an API key without selecting an Organization.

      ---

      ### Step 1Ô∏è‚É£ Create an Organization

      Use the following endpoint:

      **POST /organizations**

      This creates a new workspace where:
      - API keys are managed
      - Credits are stored and deducted
      - Usage logs are tracked

      #### Example Request
      ```json
      {
        "name": "My Agency",
        "description": "Main production workspace"
      }
      ```

      ---

      ### üñº UI Reference ‚Äì Organization Selection

      ![Organization UI](/images/organization.png)

      After creating the Organization, it will appear in the sidebar.
      Make sure the correct Organization is selected before proceeding.

      ---

      ### Step 2Ô∏è‚É£ Select Organization

      API operations always execute within the context of the selected Organization.

      If no Organization is selected:
      - API key creation will fail
      - Credit usage cannot be tracked

      ---

  - name: API Keys
    description: |
      ## üîë API Key Management

      Once an Organization is created and selected, you can generate API keys.

      API keys are:
      - Scoped to a single Organization
      - Used to authenticate API requests
      - Subject to permissions and rate limits

      ---

      ### Step 3Ô∏è‚É£ Create API Key

      Use the following endpoint:

      **POST /api-keys**

      #### Example Request
      ```json
      {
        "name": "Production App Key"
      }
      ```

      After creation, the system returns:
      - Key metadata
      - `plainKey` (shown only once)

      ‚ö†Ô∏è Store the `plainKey` securely. It will not be shown again.

      ---

      ## üîê Permission & Rate Limit Controls

      When creating a key from the dashboard, you can configure:

      - Read access
      - Write access
      - Delete access
      - Rate limits (requests per hour)
      - Optional expiration date

      These controls help enforce fine-grained security policies.

      ---

      ## ‚ö° Important Flow Summary

      1. Create Organization
      2. Select Organization
      3. Create API Key
      4. Use API key to access endpoints
      5. Credits are deducted per request

    
  - name: Models
    description: üìÅ Model management endpoints
  - name: Fans
    description: üìÅ Fan management endpoints
  - name: Messages
    description: üìÅ Message management endpoints
  - name: Statements
    description: üìÅ Earnings and financial data endpoints
  - name: My Profile
    description: üìÅ Profile management endpoints
  - name: Statistics
    description: üìÅ Statistics and analytics endpoints

servers:
  - url: http://localhost:3000/api/v1
    description: Development server
  - url: https://api.yourdomain.com/api/v1
    description: Production server

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
    apiKeyAuth:
      type: apiKey
      in: header
      name: Authorization
    xApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
    
  schemas:
    Organization:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        status:
          type: string
        createdAt:
          type: string
          format: date-time

    ApiKey:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        prefix:
          type: string
        status:
          type: string
        createdAt:
          type: string
          format: date-time

    Model:
      type: object
      properties:
        id:
          type: string
        username:
          type: string
        displayName:
          type: string
        subscriberCount:
          type: integer
        lastActivity:
          type: string
          format: date-time

    Fan:
      type: object
      properties:
        id:
          type: string
        username:
          type: string
        displayName:
          type: string
        joinDate:
          type: string
          format: date-time
        totalSpent:
          type: number

    Chat:
      type: object
      properties:
        id:
          type: string
        withUser:
          $ref: '#/components/schemas/Fan'
        lastMessage:
          type: string
        unreadCount:
          type: integer

    Message:
      type: object
      properties:
        id:
          type: string
        text:
          type: string
        fromUser:
          type: string
        createdAt:
          type: string
          format: date-time

    Earnings:
      type: object
      properties:
        id:
          type: string
        amount:
          type: number
        currency:
          type: string
        status:
          type: string
        processedAt:
          type: string
          format: date-time

    Statistics:
      type: object
      properties:
        totalEarned:
          type: number
        subscriberCount:
          type: integer
        totalViews:
          type: integer
        engagementRate:
          type: number

security:
  - apiKeyAuth: []
    xApiKeyAuth: []

paths:
  /organizations:
    post:
      tags: [Organization]
      summary: Create an Organization
      description: Create a new organization workspace
      security:
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
              required:
                - name
      responses:
        '201':
          description: Organization created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'

  /api-keys:
    post:
      tags: [API Keys]
      summary: Create API Key
      description: Generate a new API key for the selected organization
      security:
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
              required:
                - name
      responses:
        '201':
          description: API Key created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  keyMetadata:
                    $ref: '#/components/schemas/ApiKey'
                  plainKey:
                    type: string
 
  # üìÅ Models
  /onlyfans/organizations/{orgId}/models:
    get:
      tags: [Models]
      summary: Model list
      description: Get all models for an organization
      parameters:
        - name: orgId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Models retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Model'

    post:
      tags: [Models]
      summary: Connect models
      description: Connect a new OnlyFans model to an organization
      parameters:
        - name: orgId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                authToken:
                  type: string
              required:
                - username
                - authToken
      responses:
        '201':
          description: Model connected successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/Model'

  /onlyfans/models/{modelId}/reconnect:
    post:
      tags: [Models]
      summary: Reconnect models
      description: Reconnect an existing model with new credentials
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                authToken:
                  type: string
              required:
                - authToken
      responses:
        '200':
          description: Model reconnected successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      status:
                        type: string
                      lastConnected:
                        type: string
                        format: date-time

  # üìÅ Fans
  /onlyfans/models/{modelId}/fans/info:
    get:
      tags: [Fans]
      summary: Get user profile
      description: Get detailed information about a specific fan
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: user_id
          in: query
          required: true
          schema:
            type: string
          example: fan_1234567890
      responses:
        '200':
          description: Fan profile retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/Fan'

  # üìÅ Messages
  /onlyfans/models/{modelId}/chats:
    get:
      tags: [Messages]
      summary: Get all chat list
      description: Get all chat conversations for a model
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
          example: 20
        - name: offset
          in: query
          schema:
            type: integer
            default: 0
          example: 0
      responses:
        '200':
          description: Chat list retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Chat'

  /onlyfans/models/{modelId}/chats/{chatId}/messages:
    get:
      tags: [Messages]
      summary: Get model-wise and chat-wise message list
      description: Get messages from a specific chat conversation
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: chatId
          in: path
          required: true
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            default: 50
          example: 50
      responses:
        '200':
          description: Messages retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Message'

  # üìÅ Statements
  /onlyfans/models/{modelId}/payouts/transactions:
    get:
      tags: [Statements]
      summary: Earnings
      description: Get earning transactions for a model
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Earnings retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Earnings'

  /onlyfans/models/{modelId}/payouts/statistics:
    get:
      tags: [Statements]
      summary: Earnings statistics
      description: Get earnings statistics for a model
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Earnings statistics retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      totalEarned:
                        type: number
                      totalPaid:
                        type: number
                      pendingPayouts:
                        type: number

  /onlyfans/models/{modelId}/payouts/requests/referral:
    get:
      tags: [Statements]
      summary: Referral details
      description: Get referral payout details for a model
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Referral details retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        amount:
                          type: number
                        status:
                          type: string
                        requestedAt:
                          type: string
                          format: date-time

  # üìÅ My Profile
  /onlyfans/models/{modelId}/users/me:
    get:
      tags: [My Profile]
      summary: Get model details
      description: Get detailed information about a model
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Model details retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/Model'

  # üìÅ Statistics
  /onlyfans/models/{modelId}/payouts/balances:
    get:
      tags: [Statistics]
      summary: Get balances
      description: Get current payout balances for a model
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Balances retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      availableBalance:
                        type: number
                      pendingBalance:
                        type: number
                      totalEarned:
                        type: number

  /onlyfans/models/{modelId}/statistics/overview:
    get:
      tags: [Statistics]
      summary: Overview statistics
      description: Get comprehensive overview statistics for a model
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Overview statistics retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: '#/components/schemas/Statistics'

  /onlyfans/models/{modelId}/stats/reach:
    get:
      tags: [Statistics]
      summary: Reach statistics
      description: Get reach and engagement statistics for a model
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Reach statistics retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      totalViews:
                        type: integer
                      uniqueVisitors:
                        type: integer
                      averageSessionDuration:
                        type: number

  /onlyfans/models/{modelId}/stats/reach/by-country:
    get:
      tags: [Statistics]
      summary: Reach by country
      description: Get reach statistics broken down by country
      security:
        - apiKeyAuth: []
        - xApiKeyAuth: []
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Reach by country statistics retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      countryData:
                        type: array
                        items:
                          type: object
                          properties:
                            country:
                              type: string
                            views:
                              type: integer
                            uniqueVisitors:
                              type: integer

  /onlyfans/models/{modelId}/stats/fans:
    get:
      tags: [Statistics]
      summary: Fans statistics
      description: Get fan-related statistics for a model
      security:
        - apiKeyAuth: []
        - xApiKeyAuth: []
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Fan statistics retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      totalFans:
                        type: integer
                      activeFans:
                        type: integer
                      newFansThisMonth:
                        type: integer
                      churnedFans:
                        type: integer

  /onlyfans/models/{modelId}/stats/fans/top:
    get:
      tags: [Statistics]
      summary: Top fans list
      description: Get the top fans by spending for a model
      parameters:
        - name: modelId
          in: path
          required: true
          schema:
            type: string
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Top fans list retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        username:
                          type: string
                        displayName:
                          type: string
                        totalSpent:
                          type: number
                        joinDate:
                          type: string
                          format: date-time
